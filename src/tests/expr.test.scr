proc simple_expr_in_ret(void): i32 {
     printf("simple_expr_in_ret\n");
     return 1 + 4*2;
}

proc simple_parens_in_ret(void): i32 {
     printf("simple_parens_in_ret\n");
     return 2 * (3+4);
}

proc expr_with_vars(void): i32 {
     printf("expr_with_vars\n");
     let x: i32 = 3+(3*3);  -- 12
     let x': i32 = 1-2+4;   -- 3
     return x + (x'*2+3);   -- 21
}

proc expr_wconditionals_and_param(n: i32): i32 {
     printf("expr_wconditionals_and_param\n");
     let res: i32 = 0;
     for let i: i32 = 0; i < n; i += 1; {
         res += (i + 3)*2;
     }
     return res / (n*2); -- n = 10 -> 7
}

proc main(void): i32 {
     if simple_expr_in_ret() != 9 {
         exit(1);
     }

     if simple_parens_in_ret() != 14 {
         exit(1);
     }

     if expr_with_vars() != 21 {
         exit(1);
     }

     if expr_wconditionals_and_param(10) != 7 {
        exit(1);
     }

     return 0;
}
